{"version":3,"sources":["components/Filter.js","components/Personform.js","components/Persons.js","services/phone.js","App.js","index.js"],"names":["Filter","searchName","handleSearch","value","onChange","Personform","name","number","onSubmit","handleName","handleNumber","type","Persons","persons","searchText","deletePerson","filter","person","toLowerCase","indexOf","map","key","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","console","log","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchName","useEffect","servicePhone","initialPhones","checkUpdateNumber","p","find","window","confirm","updatedPerson","e","target","event","preventDefault","nameObject","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f34ccabb.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({searchName, handleSearch}) => {\r\n    return(\r\n        <div>\r\n          search: <input\r\n            value={searchName}\r\n            onChange={handleSearch}\r\n          />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","import React from 'react'\r\n\r\n\r\nconst Personform = ({name, number, onSubmit}) => {\r\n    return(\r\n        <form onSubmit={onSubmit}>\r\n            <div>\r\n            name: <input\r\n                value={name.value}\r\n                onChange={name.handleName}\r\n            />\r\n            </div>\r\n            <div>\r\n            number: <input\r\n                value={number.value}\r\n                onChange={number.handleNumber}\r\n            />\r\n            </div>\r\n            <div>\r\n            <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Personform;","import React from 'react'\r\n\r\n// const Persons = ({persons}) => {\r\n//     console.log(persons)\r\n//     return(\r\n//         <div>\r\n//         <h2>Numbers</h2>\r\n//         <ul><p>{persons}</p></ul>\r\n//         </div>\r\n//     )\r\n// }\r\nconst Persons = ({ persons, searchText, deletePerson }) => (\r\n    <>\r\n      <ul>\r\n        {persons\r\n          .filter(\r\n            person =>\r\n              person.name.toLowerCase().indexOf(searchText.toLowerCase()) > -1,\r\n          )\r\n          .map(person => (\r\n            <li key={person.name}>\r\n              {person.name} {person.number}\r\n              <button onClick={deletePerson(person.id, person.name)}>Delete</button>\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </>\r\n  )\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl);\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject);\r\n    return request.then(response => response.data);\r\n}\r\n\r\n\r\nconst remove = (id, name) => {\r\n    console.log(id);\r\n    const request = axios.delete(`${baseUrl}/${id}`);\r\n     return request.then(response => response.data)\r\n} \r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, update}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Personform from './components/Personform'\nimport Persons from './components/Persons'\nimport servicePhone from './services/phone'\n\n\nconst App = () => {\n  const [ persons, setPersons] = useState([]);\n\n  const [ newName, setNewName ] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [searchName, setSearchName] = useState('');\n\n  useEffect(() => {\n    servicePhone\n      .getAll()\n      .then(initialPhones => {\n        setPersons(initialPhones)\n      })\n  }, [])\n\n  const addName = (event) => {\n    event.preventDefault()\n    const same = persons.filter(person => person.name === newName);\n    // if(same) {\n    //   alert(`${newName} already exists`);\n    //   return\n    // }\n    if (checkUpdateNumber()) {\n      return;\n    }\n      const nameObject = {\n        name: newName,\n        number: newNumber\n      }\n          servicePhone\n            .create(nameObject)\n            .then(response => {\n            setPersons(persons.concat(nameObject))\n            setNewName('')\n            setNewNumber('')\n        })\n        }  \n\n        const checkUpdateNumber = () => {\n          const p = persons.find(p => p.name === newName);\n          if (!p) {\n            return false;\n          }\n          if (\n            !window.confirm(\n              `${newName} is already in the phonebook.\\nDo you want to update the number?`\n            )\n          ) {\n            return false;\n          }\n          const id = p.id;\n          servicePhone\n            .update(id, { ...p, number: newNumber })\n            .then(updatedPerson => {\n              setPersons(persons.map(p => (p.id !== id ? p : updatedPerson)));\n              setNewName(\"\");\n              setNewNumber(\"\");\n            })\n          return true;\n        };\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchInput = (e) => {\n    setSearchName(e.target.value);\n  }\n\n      \n      const deletePerson = (id, name) => {\n        return () => {\n          if (window.confirm(`Delete ${name}`)) {\n            servicePhone.remove(id, name).then(() => {\n              setPersons(persons.filter(person => person.id !== id))\n            })\n          }\n        }\n        }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={searchName} handleSearch={handleSearchInput}/> \n      <Personform onSubmit={addName}\n        name={{value: newName, handleName: handleNameInput}}\n        number={{value: newNumber, handleNumber: handleNumberInput}}\n      />\n      <Persons\n        persons={persons}\n        searchText={searchName}\n        deletePerson={deletePerson}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}